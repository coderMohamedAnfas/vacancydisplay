<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seat Availability</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;500;700&display=swap">
    <style>
       body {
    font-family: "Exo 2", sans-serif;
    color: #1e1e1e;
    background: #f5f5f5;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
}

h2 {
    margin: 0;
    font-size: 3em;
    color: #86ce12;
    position: relative;
    text-align: center;
    left: 50%;
    transform: translateX(-50%);
}

.table-container {
    width: 100%;
    height: 85vh;
    position: absolute;
    top: 78px; /* Adjusted to fit the college name */
    left: 0;
    overflow: hidden;
}

table {
    width: 100%;
    margin: 0 auto;
    border-collapse: collapse;
    font-size: 2em; /* Increased for readability */
}

th, td {
    border: 1px solid #ddd;
    padding: 20px;
}

th {
    background-color: #007bff;
    color: white;
    text-align: center;
}

td {
    text-align: center;
}


.branch-name {
            font-size: 1.5em; /* Increased for readability */
            font-weight: bold;
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>{{ college }}</h2>
        <div class="table-container">
            <table>
                {% for branch in branches %}
                    <thead>
                        <tr>
                            <th class="branch-name" colspan="2">{{ branch.name }}</th>
                        </tr>
                        <tr>
                            <th>Category</th>
                            <th>Seats</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for category in branch.categories %}
                            <tr>
                                <td>{{ category.name }}</td>
                                <td>{{ category.availability }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                {% endfor %}
            </table>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tableContainer = document.querySelector('.table-container');
            const scrollHeight = tableContainer.scrollHeight;
            const scrollDuration = scrollHeight * 0.7;

            tableContainer.style.overflow = 'hidden';
            tableContainer.style.position = 'relative';
            tableContainer.style.height = '80vh';

            const animateScroll = () => {
                tableContainer.scrollTop = 0;
                const scrollStep = () => {
                    if (tableContainer.scrollTop < scrollHeight - tableContainer.clientHeight) {
                        tableContainer.scrollTop += 1;
                        requestAnimationFrame(scrollStep);
                    } else {
                        // Reload the page to show the next college
                        window.location.reload();
                    }
                };
                scrollStep();
            };

            animateScroll();
        });
    </script>
</body>
</html>